{"ast":null,"code":"var _jsxFileName = \"/Users/rishabh/Desktop/AltCampus/Advanced React/Blog_App_using_Hooks/blog-app-using-hooks/src/components/Sign-Up.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Register_URL } from '../utilities/constants';\nimport { validations } from '../utilities/validations';\nimport { withRouter } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signup(props) {\n  _s();\n\n  const [state, setState] = useState({\n    username: '',\n    email: '',\n    password: '',\n    errors: {\n      username: '',\n      password: '',\n      email: ''\n    }\n  });\n\n  function handleChange({\n    target\n  }) {\n    let {\n      name,\n      value\n    } = target;\n    let errors = state.errors;\n    validations(errors, name, value);\n    setState({ ...state,\n      [name]: value,\n      errors\n    });\n  }\n\n  function handleSubmit(event) {\n    let {\n      email,\n      password,\n      username,\n      errors\n    } = state;\n    event.preventDefault();\n\n    if (username && password && email) {\n      fetch(Register_URL, {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8'\n        },\n        body: JSON.stringify({\n          user: {\n            username,\n            password,\n            email\n          }\n        })\n      }).then(res => {\n        if (!res.ok) {\n          return res.json().then(data => {\n            for (let key in data.errors) {\n              errors[key] = `${key} ${data.errors[key]}`;\n            }\n\n            return Promise.reject(errors);\n          });\n        }\n\n        return res.json();\n      }).then(({\n        user\n      }) => {\n        setState({\n          password: '',\n          email: '',\n          username: '',\n          errors\n        });\n        props.history.push('/login');\n      }).catch(errors => setState({ ...state,\n        errors: errors\n      }));\n    }\n  }\n\n  let {\n    username,\n    password,\n    email\n  } = state.errors;\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"bg-gray-300 py-10\",\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"py-20\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"w-1/3 mx-auto border border-gray-400 p-6 rounded-md shadow-md\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            className: \"text-2xl font-bold\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-700 text-lg text-center\",\n              children: [\"Already Have an account?\", ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"my-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"block w-full my-3 py-2 px-3 border border-gray-400 rounded-md\",\n            type: \"text\",\n            placeholder: \"Enter Username\",\n            value: state.username,\n            name: \"username\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-500\",\n            children: username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"block w-full my-3 py-2 px-3 border border-gray-400 rounded-md\",\n            type: \"text\",\n            placeholder: \"Enter Email\",\n            value: state.email,\n            name: \"email\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-500\",\n            children: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"block w-full my-3 py-2 px-3 border border-gray-400 rounded-md\",\n            type: \"password\",\n            placeholder: \"Enter Password\",\n            value: state.password,\n            name: \"password\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-500\",\n            children: password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Sign Up\",\n            className: \"block w-full btn bg-gray-500 text-white font-bold cursor-pointer\",\n            disabled: username || email || password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signup, \"Ii/7TjwyVlD+VABtXSVGiPrwl14=\");\n\n_c = Signup;\nexport default _c2 = withRouter(Signup);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Signup\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/rishabh/Desktop/AltCampus/Advanced React/Blog_App_using_Hooks/blog-app-using-hooks/src/components/Sign-Up.js"],"names":["React","useState","Link","Register_URL","validations","withRouter","Signup","props","state","setState","username","email","password","errors","handleChange","target","name","value","handleSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","user","then","res","ok","json","data","key","Promise","reject","history","push","catch","e"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Register_URL } from '../utilities/constants';\nimport { validations } from '../utilities/validations';\nimport { withRouter } from 'react-router';\n\nfunction Signup(props) {\n  const [state, setState] = useState({\n    username: '',\n    email: '',\n    password: '',\n    errors: {\n      username: '',\n      password: '',\n      email: '',\n    },\n  });\n  function handleChange({ target }) {\n    let { name, value } = target;\n    let errors = state.errors;\n    validations(errors, name, value);\n    setState({ ...state, [name]: value, errors });\n  }\n\n  function handleSubmit(event) {\n    let { email, password, username, errors } = state;\n    event.preventDefault();\n    if (username && password && email) {\n      fetch(Register_URL, {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n        },\n        body: JSON.stringify({ user: { username, password, email } }),\n      })\n        .then((res) => {\n          if (!res.ok) {\n            return res.json().then((data) => {\n              for (let key in data.errors) {\n                errors[key] = `${key} ${data.errors[key]}`;\n              }\n              return Promise.reject(errors);\n            });\n          }\n          return res.json();\n        })\n        .then(({ user }) => {\n          setState({ password: '', email: '', username: '', errors });\n          props.history.push('/login');\n        })\n        .catch((errors) => setState({ ...state, errors: errors }));\n    }\n  }\n\n  let { username, password, email } = state.errors;\n  return (\n    <main className=\"bg-gray-300 py-10\">\n      <section className=\"py-20\">\n        <form\n          className=\"w-1/3 mx-auto border border-gray-400 p-6 rounded-md shadow-md\"\n          onSubmit={handleSubmit}\n        >\n          <div className=\"text-center\">\n            <legend className=\"text-2xl font-bold\">Sign Up</legend>\n            <Link to=\"/login\">\n              <span className=\"text-gray-700 text-lg text-center\">\n                Already Have an account?{' '}\n              </span>\n            </Link>\n          </div>\n          <fieldset className=\"my-3\">\n            <input\n              className=\"block w-full my-3 py-2 px-3 border border-gray-400 rounded-md\"\n              type=\"text\"\n              placeholder=\"Enter Username\"\n              value={state.username}\n              name=\"username\"\n              onChange={(e) => handleChange(e)}\n            />\n            <span className=\"text-red-500\">{username}</span>\n\n            <input\n              className=\"block w-full my-3 py-2 px-3 border border-gray-400 rounded-md\"\n              type=\"text\"\n              placeholder=\"Enter Email\"\n              value={state.email}\n              name=\"email\"\n              onChange={(e) => handleChange(e)}\n            />\n            <span className=\"text-red-500\">{email}</span>\n\n            <input\n              className=\"block w-full my-3 py-2 px-3 border border-gray-400 rounded-md\"\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              value={state.password}\n              name=\"password\"\n              onChange={(e) => handleChange(e)}\n            />\n            <span className=\"text-red-500\">{password}</span>\n\n            <input\n              type=\"submit\"\n              value=\"Sign Up\"\n              className=\"block w-full btn bg-gray-500 text-white font-bold cursor-pointer\"\n              disabled={username || email || password}\n            />\n          </fieldset>\n        </form>\n      </section>\n    </main>\n  );\n}\n\nexport default withRouter(Signup);\n"]},"metadata":{},"sourceType":"module"}