{"ast":null,"code":"import Loader from'./Loader';import{useContext}from'react';import UserContext from'../context/UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Comments(props){var _user$data2,_user$data2$user;function getDate(date){var newDate=new Date(date).toISOString().split('T')[0];return newDate;}var user=useContext(UserContext);var comments=props.comments;var _user$data=user===null||user===void 0?void 0:user.data,isLoggedIn=_user$data.isLoggedIn;var loggedInUser=(_user$data2=user.data)===null||_user$data2===void 0?void 0:(_user$data2$user=_user$data2.user)===null||_user$data2$user===void 0?void 0:_user$data2$user.username;if(!comments){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[comments.length&&/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl mb-5 text-gray-500 font-bold\",children:\"Comments\"}),comments.length>0?comments.map(function(comment){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex item-center p-6 bg-gray-300 mb-4 rounded-md relative shadow-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:comment.author.image||'smiley.png',alt:comment.author.username,className:\"w-16 h-16 rounded-full\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl ml-6\",children:comment.author.username}),/*#__PURE__*/_jsxs(\"h4\",{className:\"text-xl ml-6\",children:[\"#\",getDate(comment.createdAt)]}),isLoggedIn&&loggedInUser===comment.author.username&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute right-4 text-xl\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash cursor-pointer text-gray-800\",\"data-id\":comment.id,onClick:function onClick(e){return props.handleDelete(e);}})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"ml-6 my-4\",children:comment.body})]})]},comment.createdAt);}):/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl text-red-400\",children:\"No comments yet!\"})]});}export default Comments;","map":{"version":3,"sources":["/Users/rishabh/Desktop/AltCampus/Advanced React/Blog_App_using_Hooks/blog-app-using-hooks/src/components/Comments.js"],"names":["Loader","useContext","UserContext","Comments","props","getDate","date","newDate","Date","toISOString","split","user","comments","data","isLoggedIn","loggedInUser","username","length","map","comment","author","image","createdAt","id","e","handleDelete","body"],"mappings":"AAAA,MAAOA,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,C,6IAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,kCACvB,QAASC,CAAAA,OAAT,CAAiBC,IAAjB,CAAuB,CACrB,GAAIC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,CAASF,IAAT,EAAeG,WAAf,GAA6BC,KAA7B,CAAmC,GAAnC,EAAwC,CAAxC,CAAd,CACA,MAAOH,CAAAA,OAAP,CACD,CAED,GAAII,CAAAA,IAAI,CAAGV,UAAU,CAACC,WAAD,CAArB,CACA,GAAMU,CAAAA,QAAN,CAAmBR,KAAnB,CAAMQ,QAAN,CACA,eAAqBD,IAArB,SAAqBA,IAArB,iBAAqBA,IAAI,CAAEE,IAA3B,CAAMC,UAAN,YAAMA,UAAN,CACA,GAAIC,CAAAA,YAAY,cAAGJ,IAAI,CAACE,IAAR,wDAAG,YAAWF,IAAd,2CAAG,iBAAiBK,QAApC,CACA,GAAI,CAACJ,QAAL,CAAe,CACb,mBAAO,KAAC,MAAD,IAAP,CACD,CACD,mBACE,2BACGA,QAAQ,CAACK,MAAT,eACC,WAAI,SAAS,CAAC,uCAAd,sBAFJ,CAIGL,QAAQ,CAACK,MAAT,CAAkB,CAAlB,CACCL,QAAQ,CAACM,GAAT,CAAa,SAACC,OAAD,CAAa,CACxB,mBACE,aAEE,SAAS,CAAC,qEAFZ,wBAIE,YAAK,SAAS,CAAC,EAAf,uBACE,YACE,GAAG,CAAEA,OAAO,CAACC,MAAR,CAAeC,KAAf,EAAwB,YAD/B,CAEE,GAAG,CAAEF,OAAO,CAACC,MAAR,CAAeJ,QAFtB,CAGE,SAAS,CAAC,wBAHZ,EADF,EAJF,cAWE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,WAAI,SAAS,CAAC,cAAd,UAA8BG,OAAO,CAACC,MAAR,CAAeJ,QAA7C,EADF,cAEE,YAAI,SAAS,CAAC,cAAd,eACIX,OAAO,CAACc,OAAO,CAACG,SAAT,CADX,GAFF,CAKGR,UAAU,EAAIC,YAAY,GAAKI,OAAO,CAACC,MAAR,CAAeJ,QAA9C,eACC,aAAM,SAAS,CAAC,0BAAhB,uBACE,UACE,SAAS,CAAC,2CADZ,CAEE,UAASG,OAAO,CAACI,EAFnB,CAGE,OAAO,CAAE,iBAACC,CAAD,QAAOpB,CAAAA,KAAK,CAACqB,YAAN,CAAmBD,CAAnB,CAAP,EAHX,EADF,EANJ,GADF,cAgBE,UAAG,SAAS,CAAC,WAAb,UAA0BL,OAAO,CAACO,IAAlC,EAhBF,GAXF,GACOP,OAAO,CAACG,SADf,CADF,CAgCD,CAjCD,CADD,cAoCC,WAAI,SAAS,CAAC,sBAAd,8BAxCJ,GADF,CA6CD,CAED,cAAenB,CAAAA,QAAf","sourcesContent":["import Loader from './Loader';\nimport { useContext } from 'react';\nimport UserContext from '../context/UserContext';\n\nfunction Comments(props) {\n  function getDate(date) {\n    let newDate = new Date(date).toISOString().split('T')[0];\n    return newDate;\n  }\n\n  let user = useContext(UserContext);\n  let { comments } = props;\n  let { isLoggedIn } = user?.data;\n  let loggedInUser = user.data?.user?.username;\n  if (!comments) {\n    return <Loader />;\n  }\n  return (\n    <>\n      {comments.length && (\n        <h2 className=\"text-2xl mb-5 text-gray-500 font-bold\">Comments</h2>\n      )}\n      {comments.length > 0 ? (\n        comments.map((comment) => {\n          return (\n            <div\n              key={comment.createdAt}\n              className=\"flex item-center p-6 bg-gray-300 mb-4 rounded-md relative shadow-md\"\n            >\n              <div className=\"\">\n                <img\n                  src={comment.author.image || 'smiley.png'}\n                  alt={comment.author.username}\n                  className=\"w-16 h-16 rounded-full\"\n                />\n              </div>\n              <div className=\"flex flex-col\">\n                <div className=\"flex items-center\">\n                  <h4 className=\"text-xl ml-6\">{comment.author.username}</h4>\n                  <h4 className=\"text-xl ml-6\">\n                    #{getDate(comment.createdAt)}\n                  </h4>\n                  {isLoggedIn && loggedInUser === comment.author.username && (\n                    <span className=\"absolute right-4 text-xl\">\n                      <i\n                        className=\"fas fa-trash cursor-pointer text-gray-800\"\n                        data-id={comment.id}\n                        onClick={(e) => props.handleDelete(e)}\n                      ></i>\n                    </span>\n                  )}\n                </div>\n                <p className=\"ml-6 my-4\">{comment.body}</p>\n              </div>\n            </div>\n          );\n        })\n      ) : (\n        <h2 className=\"text-xl text-red-400\">No comments yet!</h2>\n      )}\n    </>\n  );\n}\n\nexport default Comments;\n"]},"metadata":{},"sourceType":"module"}